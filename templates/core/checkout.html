{% extends 'layout/base.html' %}
{% load static %}
{% load humanize %}
{% block title %}
	Checkout
{% endblock %}
{% block content %}

    {% include 'layout/navbar.html' %}
    <section class="tx-py-14 xl:tx-px-52 tx-px-4  md:tx-px-20 tx-scroll-smooth">
        <div>
            <h1 class="tx-text-3xl tx-font-medium tx-left tx-mb-4">Checkout</h1>
        </div>
        <div class="tx-flex lg:tx-flex-row tx-flex-col-reverse tx-w-full tx-gap-10">
            <div class="tx-flex-col tx-py-5 tw-w-full lg:tx-w-1/2 2xl:tx-w-8/12 scro">
                <div class="tx-border-t tx-border-t-secondary tx-border-opacity-25 tx-divide-y">
                    <div class="tx-flex tx-flex-col tx-gap-4 tx-py-4">
                        <h1 class="tx-text-2xl tx-font-medium">Shipping Address</h1>
                        <div class="tx-flex md:tx-flex-row tx-flex-col tx-gap-4 tx-w-full">
                            <div class="tx-flex tx-flex-col tx-gap-2 tx-w-full">
                                <label for="fname" class="tx-font-primary tx-text-sm tx-font-medium">First Name</label>
                                <input type="text" placeholder="" id="fname" value="{{ user.first_name }}"
                                       class="tx-border tx-border-secondary tx-py-2.5 tx-px-4 tx-rounded-md tx-w-full tx-outline-none">
                            </div>  
                            <div class="tx-flex tx-flex-col tx-gap-2 tx-w-full">
                                <label for="lname" class="tx-font-primary tx-text-sm tx-font-medium">Last Name</label>
                                <input type="text" placeholder="" id="lname" value="{{ user.last_name }}"
                                       class="tx-border tx-border-secondary tx-py-2.5 tx-px-4 tx-rounded-md tx-w-full tx-outline-none">
                            </div>
                        </div>
                        <div class="tx-flex tx-flex-col tx-gap-2 tx-w-full">
                            <label for="phone-no" class="tx-font-primary tx-text-sm tx-font-medium">Email</label>
                            <input type="email" placeholder="" id="email" value="{{ user.email }}"
                                   class="tx-border tx-border-secondary tx-py-2.5 tx-px-4 tx-rounded-md tx-w-full tx-outline-none">
                        </div>
                        <div class="tx-flex tx-flex-col tx-gap-2 tx-w-full">
                            <label for="address" class="tx-font-primary tx-text-sm tx-font-medium">Address Line
                                1</label>
                            <input type="text" placeholder="" id="address" value="{{ address.address }}"
                                   class="tx-border tx-border-secondary tx-py-2.5 tx-px-4 tx-rounded-md tx-w-full tx-outline-none">
                        </div>
                        <div class="tx-flex md:tx-flex-row tx-flex-col tx-gap-4 tx-w-full">
                            <div class="tx-flex tx-flex-col tx-gap-2 tx-w-full">
                                <label for="country" class="tx-font-primary tx-text-sm tx-font-medium">Country</label>
                                <input type="text" placeholder="" id="country" value="{{ address.country }}"
                                       class="tx-border tx-border-secondary tx-py-2.5 tx-px-4 tx-rounded-md tx-w-full tx-outline-none">
                            </div>
                            <div class="tx-flex tx-flex-col tx-gap-2 tx-w-full">
                                <label for="city" class="tx-font-primary tx-text-sm tx-font-medium">City</label>
                                <input type="text" placeholder="" id="city" value="{{ address.city }}"
                                       class="tx-border tx-border-secondary tx-py-2.5 tx-px-4 tx-rounded-md tx-w-full tx-outline-none">
                            </div>
                        </div>
                        <div class="tx-flex md:tx-flex-row tx-flex-col tx-gap-4 tx-w-full">
                            <div class="tx-flex tx-flex-col tx-gap-2 tx-w-full">
                                <label for="state" class="tx-font-primary tx-text-sm tx-font-medium">State</label>
                                <input type="text" placeholder="" id="state" value="{{ address.state }}"
                                       class="tx-border tx-border-secondary tx-py-2.5 tx-px-4 tx-rounded-md tx-w-full tx-outline-none">
                            </div>
                            <div class="tx-flex tx-flex-col tx-gap-2 tx-w-full">
                                <label for="postal_code" class="tx-font-primary tx-text-sm tx-font-medium">Postal
                                    code</label>
                                <input type="number" placeholder="" id="postal_code" value="{{ address.zipcode }}"
                                       class="tx-border tx-border-secondary tx-py-2.5 tx-px-4 tx-rounded-md tx-w-full tx-outline-none">
                            </div>
                        </div>
                    </div>
                    <div class="tx-flex tx-flex-col tx-gap-4 tx-py-4">
                        <h1 class="tx-text-2xl tx-font-medium">Payment</h1>
                        <div
                                class="tx-flex tx-flex-col tx-py-3 tx-px-5 tx-w-full tx-border-2 tx-border-secondary tx-rounded">
                            <h1 class="tx-font-semibold tx-text-lg tx-font-primary">PayStack</h1>
                            <p class="tx-text-secondary tx-text-opacity-50 tx-font-medium tx-text-xs">One Click Payment
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tx-flex-col tx-flex tx-w-full lg:tx-w-1/2 2xl:tx-w-1/3">
                <div class="tx-bg-auth_img tx-p-5 tx-rounded-md">
                    <div class="tx-flex tx-flex-row tx-justify-between tx-items-center">
                        <h1 class="tx-text-2xl tx-font-medium">Your Order</h1>
                        <a href="{% url 'core:cart-view' %}" class="tx-text-sm tx-font-medium tx-text-auth_btn">Edit</a>
                    </div>
                    <div
                            class="tx-flex tx-flex-col tx-divide-y tx-divide-opacity-25 tx-divide-secondary tx-justify-between tx-items-center tx-py-5">
                        {% for book_id, data in cart_data.items %}
                            <div class="tx-flex tx-flex-row tx-gap-4 tx-w-full tx-py-5">
                                <div class="tx-w-20 tx-h-24">
                                    <img src="{{ data.image }}" alt=""
                                         class="tx-w-20 tx-h-24 tx-object-cover">
                                </div>
                                <div class="tx-flex tx-flex-row tx-justify-between  tx-w-full">
                                    <div>
                                        <h3 class="tx-font-primary tx-text-lg">{{ data.title }}</h3>
                                        <div>
                                            <span class="tx-font-primary tx-text-sm tx-font-medium">Author:</span>
                                            <span class="tx-font-primary tx-text-sm">{{ data.author| upper}}</span>
                                        </div>
                                        <div>
                                            <span class="tx-font-primary tx-text-sm tx-font-medium">Category:</span>
                                            <span class="tx-font-primary tx-text-sm">{{ data.category| capfirst }}</span>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="tx-font-primary tx-text-sm">₦ {{ data.price|intcomma }}</span>
                                        <div>
                                            <span class="tx-font-primary tx-text-sm">X {{ data.quantity }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <div
                            class="tx-flex tx-justify-between tx-py-5 tx-border-t tx-border-t-secondary tx-border-opacity-25 ">
                        <span class="tx-font-primary tx-text-sm tx-font-medium">Subtotal</span>
                        <span class="tx-font-primary tx-text-sm tx-font-medium">₦ {{ total_cart_price|intcomma }}</span>
                    </div>
                    <div
                            class="tx-flex tx-justify-between tx-py-5 tx-border-t tx-border-t-secondary tx-border-opacity-25 ">
                        <span class="tx-font-primary tx-text-sm tx-font-medium">Shipping</span>
                        <span class="tx-font-primary tx-text-sm tx-font-medium">₦ {{ shipping_cost|intcomma }}</span>
                    </div>
                    <div
                            class="tx-flex tx-justify-between tx-py-5 tx-border-t tx-border-t-secondary tx-border-opacity-25">
                        <span class="tx-font-primary tx-text-sm tx-font-bold">Total</span>
                        <span class="tx-font-primary tx-text-sm tx-font-medium">₦ {{ full_total|intcomma }}</span>
                    </div>
                    <div class="tx-flex tx-justify-between tx-py-2">
                        {{ paypal_payment_button.render }}

{#                        <button#}
{#                                class="tx-group tx-inline-flex tx-w-full tx-items-center tx-justify-center tx-bg-secondary tx-px-6 tx-py-4 tx-text-lg tx-font-semibold tx-text-auth_img tx-transition-all tx-duration-200 tx-ease-in-out focus:tx-shadow hover:tx-bg-secondary hover:tx-text-auth_img tx-rounded-md">#}
{#                            Pay Now#}
{#                            <svg xmlns="http://www.w3.org/2000/svg"#}
{#                                 class="group-hover:tx-ml-8 tx-ml-4 tx-h-6 tx-w-6 tx-transition-all" fill="none"#}
{#                                 viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">#}
{#                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/>#}
{#                            </svg>#}
{#                        </button>#}
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% include 'layout/footer.html' %}
{% endblock %}